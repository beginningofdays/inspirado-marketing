---
---
<div class="flex-column mb-3">
    <div class="component-title-wrapper">
        <div class="component-line"></div>
        <h2>Get Started</h2>
        <div class="component-line"></div>
    </div>
    
    <div class="component-demo-text">
        <p>To tailor our services to your unique needs, we need a bit more information from you. <span class="text-hightlight">Please fill out the form below</span>, and one of our team members will be in touch shortly to discuss how we can best support your marketing goals.</p>
    </div>
    
    <div class="component-form flex-column mb-3">
  <!-- Form Section -->
  <div class="component-form mb-1">
    <form method="post" action="https://sheetdb.io/api/v1/w7z9c2i2imfvw" id="sheetdb-form">
        <!-- Form Inputs -->
        <div class="row mb-3">
            <div class="col">
                <div data-mdb-input-init class="form-outline">
                    <input type="text" id="firstName" name="firstName" class="form-control" placeholder="First Name" />
                </div>
            </div>
            <div class="col">
                <div data-mdb-input-init class="form-outline">
                    <input type="text" id="lastName" name="lastName" class="form-control" placeholder="Last Name" />
                </div>
            </div>
        </div>
        <div data-mdb-input-init class="form-outline mb-4">
            <input type="text" id="companyName" name="companyName" class="form-control" placeholder="Company Name" />
        </div>
        <div data-mdb-input-init class="form-outline mb-4">
            <input type="text" id="address" name="address" class="form-control" placeholder="Address" />
        </div>
        <div data-mdb-input-init class="form-outline mb-4">
            <input type="email" id="email" name="email" class="form-control" placeholder="Email" />
        </div>
        <div data-mdb-input-init class="form-outline mb-4">
            <input type="number" id="phone" name="phone" class="form-control" placeholder="Phone" />
        </div>
        <div data-mdb-input-init class="form-outline mb-4">
            <textarea class="form-control" id="message" name="message" rows="4" placeholder="Message"></textarea>
        </div>
        <button data-mdb-ripple-init type="submit" class="btn btn-primary btn-block mb-4">Submit</button>
    </form>
</div>

<script>
// Define the FormSubmission class with proper types
class FormSubmission {
    firstName: string;
    lastName: string;
    companyName: string;
    address: string;
    email: string;
    phone: string;
    message: string;
    date: string;

    constructor(
        firstName: string,
        lastName: string,
        companyName: string,
        address: string,
        email: string,
        phone: string,
        message: string,
        date: string
    ) {
        this.firstName = firstName;
        this.lastName = lastName;
        this.companyName = companyName;
        this.address = address;
        this.email = email;
        this.phone = phone;
        this.message = message;
        this.date = date;
    }
}

// Event listener for form submission
document.getElementById('sheetdb-form')?.addEventListener('submit', function(e) {
    e.preventDefault(); // Prevent the default form submission

    // Gather form data and cast elements to the correct type
    const form = document.getElementById('sheetdb-form') as HTMLFormElement;
    const firstName = (document.getElementById('firstName') as HTMLInputElement)?.value ?? '';
    const lastName = (document.getElementById('lastName') as HTMLInputElement)?.value ?? '';
    const companyName = (document.getElementById('companyName') as HTMLInputElement)?.value ?? '';
    const address = (document.getElementById('address') as HTMLInputElement)?.value ?? '';
    const email = (document.getElementById('email') as HTMLInputElement)?.value ?? '';
    const phone = (document.getElementById('phone') as HTMLInputElement)?.value ?? '';
    const message = (document.getElementById('message') as HTMLTextAreaElement)?.value ?? '';
    const date = new Date().toLocaleString();

    // Create a new instance of FormSubmission
    const formSubmission = new FormSubmission(
        firstName,
        lastName,
        companyName,
        address,
        email,
        phone,
        message,
        date
    );

    // Retrieve existing data from local storage
    let allData: FormSubmission[] = JSON.parse(localStorage.getItem('sheetdb-form') ?? '[]');
    // Add new data
    allData.push(formSubmission);
    // Store updated data in local storage
    localStorage.setItem('sheetdb-form', JSON.stringify(allData));

    // Submit data to API
    fetch(form.action, {
        method: 'POST',
        body: new FormData(form),
    })
    .then(response => response.json())
    .then(data => {
        if (data.error) {
            console.error('Error:', data.error);
        } else {
            console.log('Success:', data);
            form.reset(); // Reset form after successful submission
        }
    })
    .catch((error) => {
        console.error('Error:', error);
    });
});
</script>

<style>
.component-form {
  display: flex;
  justify-content: center; /* Center the form horizontally */
  align-items: center; /* Center the form vertically */
  width: 100%;
  margin: 0 auto; /*  Center the component within the parent container */
}    
form {
  background-color: #1c4880; /* Dark blue background for the form */
  padding: 2rem; /* Add padding around the form content */
  border-radius: 8px; /* Rounded corners for the form */
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* Shadow effect for the form */
  width: 100%; /* Ensure form takes up full width of its container */
  border: none; /* Ensure no border is applied */
}
.form-control {
  background-color: #ffffff; /* White background for form fields */
  color: #333; /* Dark text color for readability */
  border: 1px solid #ced4da; /* Light gray border for form fields */
  border-radius: 4px; /* Slightly rounded corners for form fields */
  padding: 0.75rem 1rem; /* Padding inside form fields */
}
.form-control::placeholder {
  color: #6c757d; /* Light gray color for placeholder text */
}    
textarea.form-control {
  background-color: #ffffff; /* White background for the textarea */
  color: #333; /* Dark text color for readability */
  border: 1px solid #ced4da; /* Light gray border for the textarea */
  border-radius: 4px; /* Slightly rounded corners for the textarea */
  padding: 0.75rem 1rem; /* Padding inside the textarea */
}    
.btn-primary {
  background-color: #003366; /* Dark blue background for the submit button */
  border: none; /* Remove default border */
  color: #fff; /* White text color */
  padding: 0.75rem 1.5rem; /* Padding inside the button */
  font-size: 1rem; /* Font size for the button text */
  border-radius: 4px; /* Slightly rounded corners for the button */
}    
.btn-primary:hover {
  background-color: #002244; /* Darker blue background on hover */
}
.btn-primary:focus, .btn-primary:active {
  outline: none; /* Remove the default focus outline */
  box-shadow: none; /* Remove default box shadow on focus */
}    
</style>
